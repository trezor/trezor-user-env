<html>
<head>
    <title>Trezor Device Controller client</title>
    <link rel="stylesheet" type="text/css" href="index.css" />
</head>

<body>
    <div id="ws-status">
        <div>
            Websocket server not connected.
            <button onclick="init()">Connect</button>
        </div>
    </div>

    <section>
        <h3>Bridge</h3>
        <div>
            <i>Start Bridge with emulator support.</i><br>
            <button onclick="bridgeStart('2.0.27')">Start</button>
            <button onclick="bridgeStop()">Stop</button>
        </div>
        <div>
            <div>Status: <span id="bridge-status">unknown</span></div>
            <div class="explain-note">You may also check bridge status page on http://0.0.0.0:21325/status/</div>
        </div>
    </section>

    <section>
        <h3>Emulator</h3>
        <div class="explain-note">Use left and right arrow keys to emulate the Trezor One buttons. Mouse clicks for Trezor T.</div><br>
        <div>
            <h4>Trezor One</h4>
            <select id="t1-select"></select>
            <button onclick="emulatorStart('t1-select');">Start</button>
            <br />
        </div>
        <div>
            <h4>Trezor T</h4>
            <select id="t2-select"></select>
            <button onclick="emulatorStart('t2-select');">Start</button>
        </div>
        <hr />
        <h3>Emulator commands</h3>
        <div class="explain-note">These commands are auto-confirmed using the emulator's debug link.</div><br>
        <div>
            <div>Status: <span id="emulator-status">unknown</span></div>
            <button onclick="emulatorWipe();">Wipe</button>
            <input id="seed-input" type="text" placeholder="default seed: all all" />
            <button onclick="emulatorSetup();">Load seed</button>
            <button onclick="emulatorResetDevice();">Reset</button>
            <button onclick="emulatorPressYes();">Press yes</button>
            <button onclick="emulatorPressNo();">Press no</button>
            <button onclick="emulatorStop();">Stop</button>
        </div>
    </section>
    
    <section>
        <h3>Suite</h3>
        <button onclick="suiteStart('20.7.1');">Start 20.7.1</button>
        <button onclick="suiteStart('20.8.1');">Start 20.8.1</button>
        <br>
        <br>
        <div class="explain-note">Note: the "five clicks to enable Bridge in debug mode" was introduced in 20.9.1.</div>
    </section>

    <section>
        <h3>Server</h3>
        <textarea id="raw-input" rows="3"></textarea>
        <br />
        <button onclick="onSubmit();">Send JSON</button>
        <hr />
        <button onclick="exit();">Exit server</button>
        <button onclick="onCloseClick();">Close websocket</button>
    </section>
    <hr />
    <section>
        <h3>Log</h3>
        <div id="log"></div>
    </section>
    
    <script type="text/javascript" src="index.js"></script>
</body>
</html>
